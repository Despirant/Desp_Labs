# Лабораторная работа - Настройка протоколов CDP, LLDP и NTP

## Топология

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13topology.PNG)

## Таблица адресации

| Уст-во  | Интерфейс  | IP  | Маска  | Шлюз  |
|---|---|---|---|---|
| R1  | Loopback1  | 172.16.1.1  | 255.255.255.0  | na  |
|   | g0/0/1  | 10.22.0.1  | 255.255.255.0  | na  |
| S1  | SVI VLAN 1  | 10.22.0.2  | 255.255.255.0  | 10.22.0.1  |
| S2  | SVI VLAN 1  | 10.22.0.3  | 255.255.255.0  | 10.22.0.1  |

## Задачи
 - Часть 1. Создание сети и настройка основных параметров устройства
 - Часть 2. Обнаружение сетевых ресурсов с помощью протокола CDP
 - Часть 3. Обнаружение сетевых ресурсов с помощью протокола LLDP
 - Часть 4. Настройка и проверка NTP

____

### Часть 1. Создание сети и настройка основных параметров устройства.

Настраиваем базовый конфиг на устройствах.

### Часть 2. Обнаружение сетевых ресурсов с помощью протокола CDP

 - a.	На R1 используйте соответствующую команду show cdp, чтобы определить, сколько интерфейсов включено CDP, сколько из них включено и сколько отключено.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_1.PNG)


 
#### Вопрос:
Сколько интерфейсов участвует в объявлениях CDP? Какие из них активны?
Введите ваш ответ здесь.
 
 - b.	На R1 используйте соответствующую команду show cdp, чтобы определить версию IOS, используемую на S1.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_2.PNG)



#### Вопрос:
Какая версия IOS используется на  S1?
Введите ваш ответ здесь.
 
 - c.	На S1 используйте соответствующую команду show cdp, чтобы определить, сколько пакетов CDP было выданных.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_3TraficNo.PNG)


#### Вопрос:
Сколько пакетов имеет выход CDP с момента последнего сброса счетчика?
Введите ваш ответ здесь.
 
 - d.	Настройте SVI для VLAN 1 на S1 и S2, используя IP-адреса, указанные в таблице адресации выше. Настройте шлюз по умолчанию для каждого коммутатора на основе таблицы адресов.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_4.PNG)

 
 - e.	На R1 выполните команду show cdp entry S1 .

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs10Topology.PNG)

#### Вопрос:
Какие дополнительные сведения доступны теперь?
Введите ваш ответ здесь.
 

 - f.	Отключить CDP глобально на всех устройствах. 
 
![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_5.PNG)


### Часть 3. Обнаружение сетевых ресурсов с помощью протокола LLDP

 - a.	Введите соответствующую команду lldp, чтобы включить LLDP на всех устройствах в топологии.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_6.PNG)


 - b.	На S1 выполните соответствующую команду lldp, чтобы предоставить подробную информацию о S2.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_7.PNG)


К сожалению, LLDP enrty не работает в CPT. 
Имеется возможность только оборазить neighbors


#### Вопрос:
Что такое chassis ID  для коммутатора S2?
 Из-за отсутствия информации не могу ответить на данный вопрос. 

 - c.	Соединитесь через консоль на всех устройствах и используйте команды LLDP, необходимые для отображения топологии физической сети только из выходных данных команды show.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_8_LLDPR1.PNG)

 
### Часть 4. Настройка NTP

Шаг 1. Выведите на экран текущее время.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_9_clockdetail1.PNG)

| дата  | время  | пояс  | источник  |
|---|---|---|---|
| Monday Mar 1 1993  | 0:19:20.111  | UTC  | не указан  |
			
Шаг 2. Установите время.
С помощью команды clock set установите время на маршрутизаторе R1. Введенное время должно быть в формате UTC. 

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_9_clockSet.PNG)
 
Шаг 3. Настройте главный сервер NTP.
Настройте R1 в качестве хозяина NTP с уровнем слоя 4.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs10Topology.PNG)

 
Шаг 4. Настройте клиент NTP.
- a.	Выполните соответствующую команду на S1 и S2, чтобы просмотреть настроенное время. Запишите текущее время,  в следующей таблице.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_9_S2clockdetail1.PNG)

| Дата  | Время  | Пояс  |
|---|---|---|
| Mon March 1 1993  | 0:23:49  | UTC  |

		
 - b.	Настройте S1 и S2 в качестве клиентов NTP. Используйте соответствующие команды NTP для получения времени от интерфейса G0/0/1 R1, а также для периодического обновления календаря или аппаратных часов коммутатора.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_10.PNG)


#### Шаг 5. Проверьте настройку NTP.
 - a.	Используйте соответствующую команду show , чтобы убедиться, что S1 и S2 синхронизированы с R1.

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_11.PNG)


 - b.	Выполните соответствующую команду на S1 и S2, чтобы просмотреть настроенное время и сравнить ранее записанное время

![](https://github.com/Despirant/Desp_Labs/blob/main/pics/Labs13_12.PNG)


#### Вопрос для повторения
Для каких интерфейсов в пределах сети не следует использовать протоколы обнаружения сетевых ресурсов? Поясните ответ.

Протоколы обнаружения не следует использовать на интерфейсах, обращенных к внешним сетям, поскольку эти протоколы предоставляют информацию о внутренней сети. Эта информация позволяет злоумышленникам информацию о внутренней сети и может быть использована для взлома сети


